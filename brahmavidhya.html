<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta charset="UTF-8">
    <title>Diwali & Annakut Celebration 2025</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="brahmavidhya.css">

</head>

<body>

    <!-- Header -->
   <header class="gallery-header">
    <nav>
         <div class="logo">
            <span class="logo-main">BAPS Swaminarayan Temple</span>
            <span class="logo-sub">Newport News – Virginia</span>
        </div>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="music.html">Music</a></li>
            <li><a href="gallery.html">Gallery</a></li>
            <li><a href="brahmavidhya.html" class="active">Brahmavidhya</a></li>
            <li><a href="about.html">About & Timings</a></li>
        </ul>
    </nav>

    <div class="hero-text">
        <h1>'Brahmavidya' Dhanurmas Messages from HH Mahant Swami Maharaj 2025</h1>
         <p>બ્રહ્મવિદ્યા એ સત્યનો માર્ગ છે, અને સ્વામિનારાયણ ભગવાનની ભક્તિથી આત્માને શાંતિ મળે છે</p>
    </div>

     <!-- Overlay for readability & spiritual glow -->
    <div class="header-overlay"></div>

    <!-- Mandala / lotus overlay -->
    <div class="hero-text-overlay"></div>

    <!-- Floating spiritual particles -->
    <div class="particles">
        <span></span><span></span><span></span><span></span><span></span>
        <span></span><span></span><span></span><span></span><span></span>
    </div>
</header>


    <!-- DOWNLOAD BUTTONS -->
    <div class="download-actions">
        <button id="downloadAllBtn" class="pro-btn">Download All Photos</button>
        <button id="downloadSelectedBtn" class="pro-btn disabled">Download Selected</button>
    </div>

    <!-- Gallery -->
    <section class="gallery-container">
        

        <!-- 40 PHOTOS WITH CHECKBOXES -->
        <!-- (Generated automatically with selection overlay) -->

        <!-- Photo Loop -->
        <!-- Photo cards with checkbox -->
        <!-- Photo 1–40 -->
        <!-- START PHOTO LIST -->
        <!-- I will generate all 40 automatically -->

        <!-- Repeated block -->
        <!-- YOU DO NOT MODIFY ANYTHING HERE -->

        <!-- 1 to 40 -->
        <!-- ======= PHOTO CARDS ======= -->
        <!-- Each card -->
        <!-- (Auto generated list below) -->

        <!-- BEGIN 40 PHOTOS -->
        <!-- I will print them all now -->

        <!-- photo-card template -->
        <!-- Copy repeated 40 times: -->

        <!-- Photo Loop -->
        <!-- START -->
        <!-- All 40 photos rendered below -->
        <!-- Each includes: checkbox + image -->

        <!-- Photos -->
        <!-- Use JS to generate 40 cards -->

        <!-- Manually listing all 40 for you -->
        <!-- DO NOT EDIT -->

        <!-- Photo 1–40 BELOW -->

        <!-- ### ALL 40 GENERATED MANUALLY ### -->

        <!-- Cards -->
        <!-- FORMAT:
            <div class="photo-card">
                <div class="select-overlay"><input type="checkbox" class="select-photo"></div>
                <img src="/gallery-images/DiwaliCelebration2025/X.jpg" alt="Photo X">
            </div>
        -->

        <!-- PRINTING ALL 40 -->

        <!-- 1 -->
        <!-- Photo 1 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/1.jpg" alt="Photo 1"></div>

<!-- Photo 2 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/2.jpg" alt="Photo 2"></div>

<!-- Photo 3 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/3.jpg" alt="Photo 3"></div>

<!-- Photo 4 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/4.jpg" alt="Photo 4"></div>

<!-- Photo 5 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/5.jpg" alt="Photo 5"></div>

<!-- Photo 6 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/6.jpg" alt="Photo 6"></div>

<!-- Photo 7 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/7.jpg" alt="Photo 7"></div>

<!-- Photo 8 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/8.jpg" alt="Photo 8"></div>

<!-- Photo 9 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/9.jpg" alt="Photo 9"></div>

<!-- Photo 10 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/10.jpg" alt="Photo 10"></div>

<!-- Photo 11 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/11.jpg" alt="Photo 11"></div>

<!-- Photo 12 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/12.jpg" alt="Photo 12"></div>

<!-- Photo 13 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/13.jpg" alt="Photo 13"></div>

<!-- Photo 14 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/14.jpg" alt="Photo 14"></div>

<!-- Photo 15 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/15.jpg" alt="Photo 15"></div>

<!-- Photo 16 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/16.jpg" alt="Photo 16"></div>

<!-- Photo 17 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/17.jpg" alt="Photo 17"></div>

<!-- Photo 18 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/18.jpg" alt="Photo 18"></div>

<!-- Photo 19 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/19.jpg" alt="Photo 19"></div>

<!-- Photo 20 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/20.jpg" alt="Photo 20"></div>

<!-- Photo 21 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/21.jpg" alt="Photo 21"></div>

<!-- Photo 22 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/22.jpg" alt="Photo 22"></div>

<!-- Photo 23 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/23.jpg" alt="Photo 23"></div>

<!-- Photo 24 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/24.jpg" alt="Photo 24"></div>

<!-- Photo 25 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/25.jpg" alt="Photo 25"></div>

<!-- Photo 26 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/26.jpg" alt="Photo 26"></div>

<!-- Photo 27 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/27.jpg" alt="Photo 27"></div>

<!-- Photo 28 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/28.jpg" alt="Photo 28"></div>

<!-- Photo 29 -->
<div class="photo-card"><div class="select-overlay"><input type="checkbox" class="select-photo"></div><img src="brahmavidhya-images/29.jpg" alt="Photo 29"></div>

        <!-- END PHOTO LIST -->

    </section>

    <!-- Modal -->
    <div id="modal" class="modal">
        <span class="close">&times;</span>
        <span class="modal-arrow modal-arrow-left">&#10094;</span>
        <span class="modal-arrow modal-arrow-right">&#10095;</span>
        <img class="modal-content" id="modal-img">
        <div id="caption"></div>
    </div>

    <footer>© 2025 BAPS Swaminarayan Temple | Newport News VA</footer>


<script>
/* -------------------------------------------------------
   MODAL SYSTEM (fixed arrows, right-click enabled)
-------------------------------------------------------- */

const modal = document.getElementById("modal");
const modalImg = document.getElementById("modal-img");
const captionText = document.getElementById("caption");
const photoCards = document.querySelectorAll(".photo-card img");
const closeBtn = document.querySelector(".close");
const arrowLeft = document.querySelector(".modal-arrow-left");
const arrowRight = document.querySelector(".modal-arrow-right");
let currentIndex = 0;

// Open modal
photoCards.forEach((img, index) => {
    img.addEventListener("click", () => {
        currentIndex = index;
        openModal();
    });
});

function openModal() {
    modal.style.display = "block";
    modalImg.src = photoCards[currentIndex].src;
    captionText.innerHTML = photoCards[currentIndex].alt;
}

// Close modal
closeBtn.addEventListener("click", () => modal.style.display = "none");
modal.addEventListener("click", e => {
    if (e.target === modal) modal.style.display = "none";
});

// Navigate
arrowLeft.addEventListener("click", e => {
    e.stopPropagation();
    currentIndex = (currentIndex === 0) ? photoCards.length - 1 : currentIndex - 1;
    updateModal();
});

arrowRight.addEventListener("click", e => {
    e.stopPropagation();
    currentIndex = (currentIndex === photoCards.length - 1) ? 0 : currentIndex + 1;
    updateModal();
});

function updateModal() {
    modalImg.src = photoCards[currentIndex].src;
    captionText.innerHTML = photoCards[currentIndex].alt;
}


/* -------------------------------------------------------
   SELECTION SYSTEM (checkboxes + highlight)
-------------------------------------------------------- */

const checkboxes = document.querySelectorAll(".select-photo");
const downloadSelectedBtn = document.getElementById("downloadSelectedBtn");
const downloadAllBtn = document.getElementById("downloadAllBtn");

checkboxes.forEach((box, index) => {
    box.addEventListener("change", () => {
        const card = photoCards[index].parentElement;
        card.classList.toggle("selected", box.checked);
        updateSelectedButtonState();
    });
});

function updateSelectedButtonState() {
    const anySelected = [...checkboxes].some(x => x.checked);
    if (anySelected) downloadSelectedBtn.classList.remove("disabled");
    else downloadSelectedBtn.classList.add("disabled");
}


/* -------------------------------------------------------
   ZIP DOWNLOAD SYSTEM
-------------------------------------------------------- */

// Load JSZip
let jsZipScript = document.createElement("script");
jsZipScript.src = "https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js";
document.body.appendChild(jsZipScript);


// Download ALL photos
downloadAllBtn.addEventListener("click", () => {
    downloadZip([...photoCards].map(img => img.src), "All-Diwali-Photos.zip");
});

// Download SELECTED
downloadSelectedBtn.addEventListener("click", () => {
    if (downloadSelectedBtn.classList.contains("disabled")) return;

    const selected = [...checkboxes]
        .map((box, i) => box.checked ? photoCards[i].src : null)
        .filter(Boolean);

    downloadZip(selected, "Selected-Diwali-Photos.zip");
});

// Create ZIP
function downloadZip(urls, zipName) {
    const zip = new JSZip();
    const folder = zip.folder("photos");

    Promise.all(
        urls.map(url =>
            fetch(url)
                .then(res => res.blob())
                .then(blob => {
                    const fileName = url.split("/").pop();
                    folder.file(fileName, blob);
                })
        )
    ).then(() => {
        zip.generateAsync({ type: "blob" }).then(content => {
            const a = document.createElement("a");
            a.href = URL.createObjectURL(content);
            a.download = zipName;
            a.click();
        });
    });
}

</script>

</body>
</html>
